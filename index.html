<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Brunch - Independent Financial Research</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Meta Tags -->
    <meta name="description" content="Independent financial research and analysis for informed investment decisions.">
    <meta name="keywords" content="financial research, investment analysis, banking sector, equity funds, retirement planning">
    <meta name="author" content="Financial Brunch">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <div class="nav-brand">
                    <a href="#" class="logo">
                        <h1 class="logo-text">Financial Brunch</h1>
                    </a>
                </div>
                
                <div class="nav-menu" id="nav-menu">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link">Research</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">Analysis</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">Reports</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">About</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">Contact</a>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-actions">
                    <div class="language-toggle">
                        <button class="lang-btn active" data-lang="en">EN</button>
                        <button class="lang-btn" data-lang="id">ID</button>
                    </div>
                    <button class="nav-toggle" id="nav-toggle">
                        <span class="hamburger"></span>
                        <span class="hamburger"></span>
                        <span class="hamburger"></span>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title" data-cms="hero.title">Independent Financial Research</h1>
                <p class="hero-subtitle" data-cms="hero.subtitle">Comprehensive analysis and insights for informed investment decisions in Southeast Asian markets</p>
                <div class="hero-actions">
                    <a href="#newsletter" class="btn btn-primary" data-cms="hero.subscribeBtn">Subscribe to Research</a>
                    <a href="#featured" class="btn btn-secondary" data-cms="hero.browseBtn">Browse Reports</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Research Carousel Section -->
    <section class="featured" id="featured">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" data-cms="featured.title">Featured Research</h2>
                <p class="section-subtitle" data-cms="featured.subtitle">Latest insights and analysis from our research team</p>
            </div>
            
            <div class="carousel-container">
                <div class="carousel-wrapper">
                    <div class="carousel-track" id="carousel-track">
                        <!-- CMS Content will be loaded here dynamically -->
                        <div class="carousel-slide active" id="loading-slide">
                            <div class="slide-background">
                                <div class="slide-image"></div>
                                <div class="slide-overlay"></div>
                            </div>
                            <div class="slide-content">
                                <div class="slide-meta">
                                    <span class="slide-category">Loading...</span>
                                    <span class="slide-date">...</span>
                                </div>
                                <h3 class="slide-title">Loading Latest Research...</h3>
                                <p class="slide-excerpt">Please wait while we load the latest research articles from our content management system.</p>
                                <a href="#" class="slide-cta">Loading...</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Carousel Navigation -->
                <button class="carousel-nav carousel-prev" id="carousel-prev" aria-label="Previous slide">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="carousel-nav carousel-next" id="carousel-next" aria-label="Next slide">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>

                <!-- Carousel Indicators -->
                <div class="carousel-indicators" id="carousel-indicators">
                    <!-- Indicators will be generated dynamically -->
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" data-cms="features.title">Why Choose Financial Brunch</h2>
                <p class="section-subtitle" data-cms="features.subtitle">Independent research backed by deep market expertise</p>
            </div>
            
            <div class="features-grid" id="features-grid">
                <!-- Features will be loaded from CMS -->
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter" id="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <div class="newsletter-text">
                    <h2 class="newsletter-title" data-cms="newsletter.title">Stay Informed</h2>
                    <p class="newsletter-description" data-cms="newsletter.description">Get our latest research reports and market insights delivered directly to your inbox.</p>
                </div>
                <form class="newsletter-form">
                    <div class="form-group">
                        <input type="email" class="form-input" placeholder="Enter your email address" required>
                        <button type="submit" class="btn btn-primary" data-cms="newsletter.submitBtn">Subscribe</button>
                    </div>
                    <p class="form-disclaimer" data-cms="newsletter.disclaimer">By subscribing, you agree to receive our research updates. Unsubscribe at any time.</p>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title" data-cms="footer.title">Financial Brunch</h3>
                    <p class="footer-description" data-cms="footer.description">Independent financial research for informed investment decisions.</p>
                    <div class="footer-social">
                        <a href="#" class="social-link">LinkedIn</a>
                        <a href="#" class="social-link">Twitter</a>
                        <a href="#" class="social-link">Newsletter</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle" data-cms="footer.research.title">Research</h4>
                    <ul class="footer-links" id="footer-research-links">
                        <!-- Links will be loaded from CMS -->
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle" data-cms="footer.company.title">Company</h4>
                    <ul class="footer-links" id="footer-company-links">
                        <!-- Links will be loaded from CMS -->
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle" data-cms="footer.legal.title">Legal</h4>
                    <ul class="footer-links" id="footer-legal-links">
                        <!-- Links will be loaded from CMS -->
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="footer-copyright" data-cms="footer.copyright">&copy; 2024 Financial Brunch. All rights reserved.</p>
                <p class="footer-disclaimer" data-cms="footer.disclaimer">Investment research and analysis for informational purposes only. Not investment advice.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    
    <!-- CMS Integration Script -->
    <script>
        // Financial Brunch CMS System
        class FinancialBrunchCMS {
            constructor() {
                this.currentLanguage = 'en';
                this.content = {};
                this.carousel = null;
                this.init();
            }

            async init() {
                console.log('🚀 Initializing Financial Brunch CMS...');
                await this.loadContent();
                this.setupLanguageToggle();
                this.renderContent();
                this.initializeCarousel();
                console.log('✅ CMS initialized successfully');
            }

            async loadContent() {
                try {
                    // Try to load from external JSON file first
                    const response = await fetch('./content/cms-content.json');
                    if (response.ok) {
                        this.content = await response.json();
                        console.log('📄 Content loaded from CMS file');
                        return;
                    }
                } catch (error) {
                    console.log('⚠️ Could not load external CMS file, using built-in content');
                }

                // Fallback: Use built-in content
                this.content = this.getBuiltInContent();
                console.log('📦 Using built-in CMS content');
            }

            getBuiltInContent() {
                return {
                    en: {
                        hero: {
                            title: "Independent Financial Research",
                            subtitle: "Comprehensive analysis and insights for informed investment decisions in Southeast Asian markets",
                            subscribeBtn: "Subscribe to Research",
                            browseBtn: "Browse Reports"
                        },
                        featured: {
                            title: "Featured Research",
                            subtitle: "Latest insights and analysis from our research team",
                            articles: [
                                {
                                    title: "Indonesian Banking Sector Outlook H2 2024",
                                    excerpt: "Comprehensive analysis of Indonesia's banking sector performance and growth prospects for the second half of 2024.",
                                    category: "Banking",
                                    date: "2024-07-28",
                                    slug: "indonesian-banking-outlook-h2-2024"
                                },
                                {
                                    title: "Fixed Income Strategy for Retirement",
                                    excerpt: "Strategic approach to building a robust fixed income portfolio for retirement planning in the current interest rate environment.",
                                    category: "Retirement",
                                    date: "2024-06-15",
                                    slug: "fixed-income-retirement-strategy"
                                },
                                {
                                    title: "Top Performing Equity Funds",
                                    excerpt: "Analysis of the best performing equity funds in Southeast Asia with detailed performance metrics and investment strategies.",
                                    category: "Equity",
                                    date: "2024-05-20",
                                    slug: "top-performing-equity-funds"
                                },
                                {
                                    title: "Southeast Asian Markets Weekly",
                                    excerpt: "Weekly market overview covering key developments, policy changes, and investment opportunities across the region.",
                                    category: "Market Update",
                                    date: "2024-08-01",
                                    slug: "southeast-asian-markets-weekly"
                                }
                            ]
                        },
                        features: {
                            title: "Why Choose Financial Brunch",
                            subtitle: "Independent research backed by deep market expertise",
                            items: [
                                {
                                    title: "Independent Analysis",
                                    description: "Unbiased research free from conflicts of interest, providing objective insights for your investment decisions.",
                                    icon: "star"
                                },
                                {
                                    title: "Deep Market Knowledge",
                                    description: "Extensive expertise in Southeast Asian markets with focus on emerging opportunities and risk assessment.",
                                    icon: "cube"
                                },
                                {
                                    title: "Actionable Insights",
                                    description: "Practical recommendations and strategic guidance to help you make informed investment decisions with confidence.",
                                    icon: "zap"
                                }
                            ]
                        },
                        newsletter: {
                            title: "Stay Informed",
                            description: "Get our latest research reports and market insights delivered directly to your inbox.",
                            submitBtn: "Subscribe",
                            disclaimer: "By subscribing, you agree to receive our research updates. Unsubscribe at any time."
                        },
                        footer: {
                            title: "Financial Brunch",
                            description: "Independent financial research for informed investment decisions.",
                            copyright: "© 2024 Financial Brunch. All rights reserved.",
                            disclaimer: "Investment research and analysis for informational purposes only. Not investment advice.",
                            research: {
                                title: "Research",
                                links: [
                                    { text: "Banking Sector", url: "#" },
                                    { text: "Equity Analysis", url: "#" },
                                    { text: "Fixed Income", url: "#" },
                                    { text: "Market Updates", url: "#" }
                                ]
                            },
                            company: {
                                title: "Company",
                                links: [
                                    { text: "About Us", url: "#" },
                                    { text: "Our Team", url: "#" },
                                    { text: "Methodology", url: "#" },
                                    { text: "Contact", url: "#" }
                                ]
                            },
                            legal: {
                                title: "Legal",
                                links: [
                                    { text: "Privacy Policy", url: "#" },
                                    { text: "Terms of Service", url: "#" },
                                    { text: "Disclaimers", url: "#" },
                                    { text: "Compliance", url: "#" }
                                ]
                            }
                        }
                    },
                    id: {
                        hero: {
                            title: "Riset Keuangan Independen",
                            subtitle: "Analisis komprehensif dan wawasan untuk keputusan investasi yang tepat di pasar Asia Tenggara",
                            subscribeBtn: "Berlangganan Riset",
                            browseBtn: "Jelajahi Laporan"
                        },
                        featured: {
                            title: "Riset Unggulan",
                            subtitle: "Wawasan dan analisis terbaru dari tim riset kami",
                            articles: [
                                {
                                    title: "Prospek Sektor Perbankan Indonesia H2 2024",
                                    excerpt: "Analisis komprehensif kinerja sektor perbankan Indonesia dan prospek pertumbuhan untuk semester kedua 2024.",
                                    category: "Perbankan",
                                    date: "2024-07-28",
                                    slug: "prospek-perbankan-indonesia-h2-2024"
                                },
                                {
                                    title: "Strategi Pendapatan Tetap untuk Pensiun",
                                    excerpt: "Pendekatan strategis untuk membangun portofolio pendapatan tetap yang kuat untuk perencanaan pensiun di lingkungan suku bunga saat ini.",
                                    category: "Pensiun",
                                    date: "2024-06-15",
                                    slug: "strategi-pendapatan-tetap-pensiun"
                                },
                                {
                                    title: "Reksa Dana Saham Berkinerja Terbaik",
                                    excerpt: "Analisis reksa dana saham berkinerja terbaik di Asia Tenggara dengan metrik kinerja terperinci dan strategi investasi.",
                                    category: "Ekuitas",
                                    date: "2024-05-20",
                                    slug: "reksa-dana-saham-terbaik"
                                },
                                {
                                    title: "Pasar Asia Tenggara Mingguan",
                                    excerpt: "Ikhtisar pasar mingguan yang mencakup perkembangan utama, perubahan kebijakan, dan peluang investasi di seluruh wilayah.",
                                    category: "Update Pasar",
                                    date: "2024-08-01",
                                    slug: "pasar-asia-tenggara-mingguan"
                                }
                            ]
                        },
                        features: {
                            title: "Mengapa Memilih Financial Brunch",
                            subtitle: "Riset independen dengan dukungan keahlian pasar yang mendalam",
                            items: [
                                {
                                    title: "Analisis Independen",
                                    description: "Riset yang tidak bias bebas dari konflik kepentingan, memberikan wawasan objektif untuk keputusan investasi Anda.",
                                    icon: "star"
                                },
                                {
                                    title: "Pengetahuan Pasar Mendalam",
                                    description: "Keahlian luas di pasar Asia Tenggara dengan fokus pada peluang yang muncul dan penilaian risiko.",
                                    icon: "cube"
                                },
                                {
                                    title: "Wawasan yang Dapat Ditindaklanjuti",
                                    description: "Rekomendasi praktis dan panduan strategis untuk membantu Anda membuat keputusan investasi yang tepat dengan percaya diri.",
                                    icon: "zap"
                                }
                            ]
                        },
                        newsletter: {
                            title: "Tetap Terinformasi",
                            description: "Dapatkan laporan riset terbaru dan wawasan pasar langsung ke inbox Anda.",
                            submitBtn: "Berlangganan",
                            disclaimer: "Dengan berlangganan, Anda setuju untuk menerima pembaruan riset kami. Berhenti berlangganan kapan saja."
                        },
                        footer: {
                            title: "Financial Brunch",
                            description: "Riset keuangan independen untuk keputusan investasi yang tepat.",
                            copyright: "© 2024 Financial Brunch. Semua hak dilindungi.",
                            disclaimer: "Riset dan analisis investasi hanya untuk tujuan informasi. Bukan saran investasi.",
                            research: {
                                title: "Riset",
                                links: [
                                    { text: "Sektor Perbankan", url: "#" },
                                    { text: "Analisis Ekuitas", url: "#" },
                                    { text: "Pendapatan Tetap", url: "#" },
                                    { text: "Update Pasar", url: "#" }
                                ]
                            },
                            company: {
                                title: "Perusahaan",
                                links: [
                                    { text: "Tentang Kami", url: "#" },
                                    { text: "Tim Kami", url: "#" },
                                    { text: "Metodologi", url: "#" },
                                    { text: "Kontak", url: "#" }
                                ]
                            },
                            legal: {
                                title: "Legal",
                                links: [
                                    { text: "Kebijakan Privasi", url: "#" },
                                    { text: "Ketentuan Layanan", url: "#" },
                                    { text: "Penafian", url: "#" },
                                    { text: "Kepatuhan", url: "#" }
                                ]
                            }
                        }
                    }
                };
            }

            setupLanguageToggle() {
                const langButtons = document.querySelectorAll('.lang-btn');
                langButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const lang = btn.getAttribute('data-lang');
                        if (lang !== this.currentLanguage) {
                            this.currentLanguage = lang;
                            
                            // Update active button
                            langButtons.forEach(b => b.classList.remove('active'));
                            btn.classList.add('active');
                            
                            // Re-render content with new language
                            this.renderContent();
                        }
                    });
                });
            }

            renderContent() {
                const langContent = this.content[this.currentLanguage];
                if (!langContent) return;

                // Update text content with data-cms attributes
                document.querySelectorAll('[data-cms]').forEach(element => {
                    const path = element.getAttribute('data-cms').split('.');
                    let value = langContent;
                    
                    for (const key of path) {
                        value = value?.[key];
                        if (!value) break;
                    }
                    
                    if (value) {
                        element.textContent = value;
                    }
                });

                // Render carousel articles
                this.renderCarousel(langContent.featured?.articles || []);
                
                // Render features
                this.renderFeatures(langContent.features?.items || []);
                
                // Render footer links
                this.renderFooterLinks(langContent.footer);
            }

            renderCarousel(articles) {
                const carouselTrack = document.getElementById('carousel-track');
                const indicators = document.getElementById('carousel-indicators');
                
                if (!carouselTrack || !indicators) return;

                // Clear existing content
                carouselTrack.innerHTML = '';
                indicators.innerHTML = '';

                if (articles.length === 0) {
                    // Show loading state
                    carouselTrack.innerHTML = `
                        <div class="carousel-slide active">
                            <div class="slide-background">
                                <div class="slide-image"></div>
                                <div class="slide-overlay"></div>
                            </div>
                            <div class="slide-content">
                                <div class="slide-meta">
                                    <span class="slide-category">No Content</span>
                                    <span class="slide-date">...</span>
                                </div>
                                <h3 class="slide-title">No Articles Available</h3>
                                <p class="slide-excerpt">No research articles are currently available. Please check back later.</p>
                                <a href="#" class="slide-cta">Coming Soon</a>
                            </div>
                        </div>
                    `;
                    return;
                }

                // Render articles
                articles.forEach((article, index) => {
                    const slide = this.createSlide(article, index);
                    carouselTrack.appendChild(slide);

                    const indicator = this.createIndicator(index);
                    indicators.appendChild(indicator);
                });

                // Set first slide as active
                if (articles.length > 0) {
                    carouselTrack.firstElementChild.classList.add('active');
                    indicators.firstElementChild.classList.add('active');
                }
            }

            createSlide(article, index) {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                if (index === 0) slide.classList.add('active');

                const date = new Date(article.date).toLocaleDateString(
                    this.currentLanguage === 'id' ? 'id-ID' : 'en-US',
                    { year: 'numeric', month: 'long', day: 'numeric' }
                );

                slide.innerHTML = `
                    <div class="slide-background">
                        <div class="slide-image"></div>
                        <div class="slide-overlay"></div>
                    </div>
                    <div class="slide-content">
                        <div class="slide-meta">
                            <span class="slide-category">${article.category}</span>
                            <span class="slide-date">${date}</span>
                        </div>
                        <h3 class="slide-title">${article.title}</h3>
                        <p class="slide-excerpt">${article.excerpt}</p>
                        <a href="/research/${article.slug}" class="slide-cta">
                            ${this.currentLanguage === 'id' ? 'Baca Laporan Lengkap' : 'Read Full Report'}
                        </a>
                    </div>
                `;

                return slide;
            }

            createIndicator(index) {
                const indicator = document.createElement('button');
                indicator.className = 'indicator';
                indicator.setAttribute('data-slide', index);
                indicator.setAttribute('aria-label', `Go to slide ${index + 1}`);
                if (index === 0) indicator.classList.add('active');

                indicator.addEventListener('click', () => {
                    this.goToSlide(index);
                });

                return indicator;
            }

            renderFeatures(features) {
                const featuresGrid = document.getElementById('features-grid');
                if (!featuresGrid) return;

                featuresGrid.innerHTML = '';

                features.forEach(feature => {
                    const featureCard = document.createElement('div');
                    featureCard.className = 'feature-card';
                    
                    featureCard.innerHTML = `
                        <div class="feature-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                ${this.getIconSVG(feature.icon)}
                            </svg>
                        </div>
                        <h3 class="feature-title">${feature.title}</h3>
                        <p class="feature-description">${feature.description}</p>
                    `;
                    
                    featuresGrid.appendChild(featureCard);
                });
            }

            getIconSVG(icon) {
                const icons = {
                    star: '<path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',
                    cube: '<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><polyline points="3.27,6.96 12,12.01 20.73,6.96" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><line x1="12" y1="22.08" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',
                    zap: '<path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>'
                };
                
                return icons[icon] || icons.star;
            }

            renderFooterLinks(footer) {
                const sections = ['research', 'company', 'legal'];
                
                sections.forEach(section => {
                    const container = document.getElementById(`footer-${section}-links`);
                    if (!container || !footer[section]) return;
                    
                    container.innerHTML = '';
                    
                    footer[section].links.forEach(link => {
                        const li = document.createElement('li');
                        li.innerHTML = `<a href="${link.url}" class="footer-link">${link.text}</a>`;
                        container.appendChild(li);
                    });
                });
            }

            initializeCarousel() {
                // Initialize carousel after content is loaded
                setTimeout(() => {
                    if (window.FinancialBrunch && window.FinancialBrunch.carousel) {
                        this.carousel = window.FinancialBrunch.carousel;
                    }
                }, 100);
            }

            goToSlide(index) {
                if (this.carousel && this.carousel.goToSlide) {
                    this.carousel.goToSlide(index);
                }
            }
        }

        // Initialize CMS when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.financialBrunchCMS = new FinancialBrunchCMS();
        });
    </script>
</body>
</html>