<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Financial Brunch - Independent Financial Research</title>

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet">

        <!-- CSS -->
        <link rel="stylesheet" href="css/styles.css">

        <!-- Meta Tags -->
        <meta name="description"
            content="Independent financial research and analysis for informed investment decisions.">
        <meta name="keywords"
            content="financial research, investment analysis, banking sector, equity funds, retirement planning">
        <meta name="author" content="Financial Brunch">
    </head>

    <body>
        <!-- Header -->
        <header class="header">
            <nav class="nav">
                <div class="nav-container">
                    <div class="nav-brand">
                        <a href="index.html" class="logo">
                            <h1 class="logo-text">Financial Brunch</h1>
                        </a>
                    </div>

                    <div class="nav-menu" id="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="index.html" class="nav-link active">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="research.html" class="nav-link">Research</a>
                            </li>
                            <li class="nav-item">
                                <a href="analysis.html" class="nav-link">Analysis</a>
                            </li>
                            <li class="nav-item">
                                <a href="reports.html" class="nav-link">Reports</a>
                            </li>
                            <li class="nav-item">
                                <a href="enhanced-reports.html" class="nav-link">Enhanced Reports</a>
                            </li>
                            <li class="nav-item">
                                <a href="about.html" class="nav-link">About</a>
                            </li>
                            <li class="nav-item">
                                <a href="contact.html" class="nav-link">Contact</a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-actions">
                        <div class="language-toggle">
                            <button class="lang-btn active" data-lang="en">EN</button>
                            <button class="lang-btn" data-lang="id">ID</button>
                        </div>
                        <button class="nav-toggle" id="nav-toggle">
                            <span class="hamburger"></span>
                            <span class="hamburger"></span>
                            <span class="hamburger"></span>
                        </button>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title" data-cms="hero.title">Independent Financial Research</h1>
                    <p class="hero-subtitle" data-cms="hero.subtitle">Comprehensive analysis and insights for informed
                        investment decisions in Southeast Asian markets</p>
                    <div class="hero-actions">
                        <a href="#newsletter" class="btn btn-primary" data-cms="hero.subscribeBtn">Subscribe to
                            Research</a>
                        <a href="#featured" class="btn btn-secondary" data-cms="hero.browseBtn">Browse Reports</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Research Carousel Section -->
        <section class="featured" id="featured">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title" data-cms="featured.title">Featured Research</h2>
                    <p class="section-subtitle" data-cms="featured.subtitle">Latest insights and analysis from our
                        research team</p>
                </div>

                <div class="carousel-container">
                    <div class="carousel-wrapper">
                        <div class="carousel-track" id="carousel-track">
                            <!-- CMS Content will be loaded here dynamically -->
                            <div class="carousel-slide active" id="loading-slide">
                                <div class="slide-background">
                                    <div class="slide-image"></div>
                                    <div class="slide-overlay"></div>
                                </div>
                                <div class="slide-content">
                                    <div class="slide-meta">
                                        <span class="slide-category">Loading...</span>
                                        <span class="slide-date">...</span>
                                    </div>
                                    <h3 class="slide-title">Loading Latest Research...</h3>
                                    <p class="slide-excerpt">Please wait while we load the latest research articles from
                                        our content management system.</p>
                                    <a href="#" class="slide-cta">Loading...</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Carousel Navigation -->
                    <button class="carousel-nav carousel-prev" id="carousel-prev" aria-label="Previous slide">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                    <button class="carousel-nav carousel-next" id="carousel-next" aria-label="Next slide">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>

                    <!-- Carousel Indicators -->
                    <div class="carousel-indicators" id="carousel-indicators">
                        <!-- Indicators will be generated dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title" data-cms="features.title">Why Choose Financial Brunch</h2>
                    <p class="section-subtitle" data-cms="features.subtitle">Independent research backed by deep market
                        expertise</p>
                </div>

                <div class="features-grid" id="features-grid">
                    <!-- Features will be loaded from CMS -->
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="newsletter" id="newsletter">
            <div class="container">
                <div class="newsletter-content">
                    <div class="newsletter-text">
                        <h2 class="newsletter-title" data-cms="newsletter.title">Stay Informed</h2>
                        <p class="newsletter-description" data-cms="newsletter.description">Get our latest research
                            reports and market insights delivered directly to your inbox.</p>
                    </div>
                    <form class="newsletter-form">
                        <div class="form-group">
                            <input type="email" class="form-input" placeholder="Enter your email address" required>
                            <button type="submit" class="btn btn-primary"
                                data-cms="newsletter.submitBtn">Subscribe</button>
                        </div>
                        <p class="form-disclaimer" data-cms="newsletter.disclaimer">By subscribing, you agree to receive
                            our research updates. Unsubscribe at any time.</p>
                    </form>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3 class="footer-title" data-cms="footer.title">Financial Brunch</h3>
                        <p class="footer-description" data-cms="footer.description">Independent financial research for
                            informed investment decisions.</p>
                        <div class="footer-social">
                            <a href="#" class="social-link">LinkedIn</a>
                            <a href="#" class="social-link">Twitter</a>
                            <a href="#" class="social-link">Newsletter</a>
                        </div>
                    </div>

                    <div class="footer-section">
                        <h4 class="footer-subtitle" data-cms="footer.research.title">Research</h4>
                        <ul class="footer-links" id="footer-research-links">
                            <!-- Links will be loaded from CMS -->
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4 class="footer-subtitle" data-cms="footer.company.title">Company</h4>
                        <ul class="footer-links" id="footer-company-links">
                            <!-- Links will be loaded from CMS -->
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4 class="footer-subtitle" data-cms="footer.legal.title">Legal</h4>
                        <ul class="footer-links" id="footer-legal-links">
                            <!-- Links will be loaded from CMS -->
                        </ul>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p class="footer-copyright" data-cms="footer.copyright">&copy; 2024 Financial Brunch. All rights
                        reserved.</p>
                    <p class="footer-disclaimer" data-cms="footer.disclaimer">Investment research and analysis for
                        informational purposes only. Not investment advice.</p>
                </div>
            </div>
        </footer>

        <!-- JavaScript -->
        <script src="js/main.js"></script>
        <script src="js/page-transitions.js"></script>

        <!-- CMS Integration Script -->
        <script>
            // Enhanced Financial Brunch CMS System with Auto-Translation and Auto-Update
            class FinancialBrunchCMS {
                constructor() {
                    this.currentLanguage = 'en';
                    this.content = {};
                    this.carousel = null;
                    this.translationDictionary = this.initializeTranslationDictionary();
                    this.autoUpdateInterval = null;
                    this.lastUpdateTime = null;
                    this.contentHash = null;
                    this.init();
                }

                initializeTranslationDictionary() {
                    return {
                        // Financial Terms
                        'banking': { en: 'Banking', id: 'Perbankan' },
                        'bonds': { en: 'Bonds', id: 'Obligasi' },
                        'equity': { en: 'Equity', id: 'Ekuitas' },
                        'economics': { en: 'Economics', id: 'Ekonomi' },
                        'markets': { en: 'Markets', id: 'Pasar' },
                        'investment': { en: 'Investment', id: 'Investasi' },
                        'analysis': { en: 'Analysis', id: 'Analisis' },
                        'research': { en: 'Research', id: 'Riset' },
                        'financial': { en: 'Financial', id: 'Keuangan' },
                        'sector': { en: 'Sector', id: 'Sektor' },
                        'outlook': { en: 'Outlook', id: 'Prospek' },
                        'strategy': { en: 'Strategy', id: 'Strategi' },
                        'performance': { en: 'Performance', id: 'Kinerja' },
                        'growth': { en: 'Growth', id: 'Pertumbuhan' },
                        'portfolio': { en: 'Portfolio', id: 'Portofolio' },
                        'fund': { en: 'Fund', id: 'Dana' },
                        'funds': { en: 'Funds', id: 'Dana' },
                        'retirement': { en: 'Retirement', id: 'Pensiun' },
                        'income': { en: 'Income', id: 'Pendapatan' },
                        'fixed': { en: 'Fixed', id: 'Tetap' },
                        'crisis': { en: 'Crisis', id: 'Krisis' },
                        'european': { en: 'European', id: 'Eropa' },
                        'indonesian': { en: 'Indonesian', id: 'Indonesia' },
                        'bank': { en: 'Bank', id: 'Bank' },
                        'high': { en: 'High', id: 'Tinggi' },
                        'time': { en: 'Time', id: 'Waktu' },
                        'post': { en: 'Post', id: 'Pasca' },
                        'comprehensive': { en: 'Comprehensive', id: 'Komprehensif' },
                        'prospects': { en: 'Prospects', id: 'Prospek' },
                        'second': { en: 'Second', id: 'Kedua' },
                        'half': { en: 'Half', id: 'Semester' },
                        'strategic': { en: 'Strategic', id: 'Strategis' },
                        'approach': { en: 'Approach', id: 'Pendekatan' },
                        'building': { en: 'Building', id: 'Membangun' },
                        'robust': { en: 'Robust', id: 'Kuat' },
                        'planning': { en: 'Planning', id: 'Perencanaan' },
                        'current': { en: 'Current', id: 'Saat ini' },
                        'interest': { en: 'Interest', id: 'Suku bunga' },
                        'rate': { en: 'Rate', id: 'Tingkat' },
                        'environment': { en: 'Environment', id: 'Lingkungan' },
                        'performing': { en: 'Performing', id: 'Berkinerja' },
                        'best': { en: 'Best', id: 'Terbaik' },
                        'detailed': { en: 'Detailed', id: 'Terperinci' },
                        'metrics': { en: 'Metrics', id: 'Metrik' },
                        'strategies': { en: 'Strategies', id: 'Strategi' },
                        'southeast': { en: 'Southeast', id: 'Asia Tenggara' },
                        'asian': { en: 'Asian', id: 'Asia' },
                        'weekly': { en: 'Weekly', id: 'Mingguan' },
                        'market': { en: 'Market', id: 'Pasar' },
                        'overview': { en: 'Overview', id: 'Ikhtisar' },
                        'covering': { en: 'Covering', id: 'Mencakup' },
                        'key': { en: 'Key', id: 'Utama' },
                        'developments': { en: 'Developments', id: 'Perkembangan' },
                        'policy': { en: 'Policy', id: 'Kebijakan' },
                        'changes': { en: 'Changes', id: 'Perubahan' },
                        'opportunities': { en: 'Opportunities', id: 'Peluang' },
                        'across': { en: 'Across', id: 'Di seluruh' },
                        'region': { en: 'Region', id: 'Wilayah' },
                        'update': { en: 'Update', id: 'Update' },

                        // Common phrases
                        'all time high': { en: 'All Time High', id: 'Tertinggi Sepanjang Masa' },
                        'top performing': { en: 'Top Performing', id: 'Berkinerja Terbaik' },
                        'fixed income': { en: 'Fixed Income', id: 'Pendapatan Tetap' },
                        'equity funds': { en: 'Equity Funds', id: 'Reksa Dana Saham' },
                        'market update': { en: 'Market Update', id: 'Update Pasar' },
                        'banking sector': { en: 'Banking Sector', id: 'Sektor Perbankan' },
                        'financial research': { en: 'Financial Research', id: 'Riset Keuangan' },
                        'investment analysis': { en: 'Investment Analysis', id: 'Analisis Investasi' },
                        'southeast asian markets': { en: 'Southeast Asian Markets', id: 'Pasar Asia Tenggara' },

                        // Action words
                        'read': { en: 'Read', id: 'Baca' },
                        'full': { en: 'Full', id: 'Lengkap' },
                        'report': { en: 'Report', id: 'Laporan' },
                        'subscribe': { en: 'Subscribe', id: 'Berlangganan' },
                        'browse': { en: 'Browse', id: 'Jelajahi' },
                        'reports': { en: 'Reports', id: 'Laporan' },
                        'latest': { en: 'Latest', id: 'Terbaru' },
                        'insights': { en: 'Insights', id: 'Wawasan' },
                        'team': { en: 'Team', id: 'Tim' },

                        // Time expressions
                        'h2 2024': { en: 'H2 2024', id: 'H2 2024' },
                        '2024': { en: '2024', id: '2024' },
                        '2008': { en: '2008', id: '2008' }
                    };
                }

                async init() {
                    console.log('üöÄ Initializing Financial Brunch CMS with Auto-Update...');
                    await this.loadContent();
                    this.setupLanguageToggle();
                    this.renderContent();
                    this.initializeCarousel();
                    this.startAutoUpdate();
                    console.log('‚úÖ CMS initialized successfully with auto-update enabled');
                }

                startAutoUpdate() {
                    // Only start auto-update if we're on a server (not file://)
                    if (window.location.protocol === 'file:') {
                        console.log('üìÅ Auto-update disabled in standalone mode');
                        return;
                    }

                    console.log('üîÑ Starting auto-update system...');

                    // Check for updates every 30 seconds
                    this.autoUpdateInterval = setInterval(async () => {
                        await this.checkForUpdates();
                    }, 30000);

                    // Also check when page becomes visible again
                    document.addEventListener('visibilitychange', async () => {
                        if (!document.hidden) {
                            console.log('üëÅÔ∏è Page visible - checking for updates...');
                            await this.checkForUpdates();
                        }
                    });
                }

                async checkForUpdates() {
                    try {
                        // Check if manifest has been updated
                        const manifestResponse = await fetch('./content/research/manifest.json?t=' + Date.now());
                        if (!manifestResponse.ok) return;

                        const manifest = await manifestResponse.json();
                        const newHash = this.generateContentHash(manifest);

                        // If content has changed, reload
                        if (this.contentHash && this.contentHash !== newHash) {
                            console.log('üÜï New content detected! Updating carousel...');
                            await this.loadContent();
                            this.renderContent();
                            this.showUpdateNotification();
                        }

                        this.contentHash = newHash;
                        this.lastUpdateTime = new Date();

                    } catch (error) {
                        console.log('üîÑ Auto-update check failed (normal if no server):', error.message);
                    }
                }

                generateContentHash(manifest) {
                    // Create a simple hash of the manifest to detect changes
                    const hashString = JSON.stringify({
                        files: manifest.files,
                        totalArticles: manifest.totalArticles,
                        lastUpdated: manifest.lastUpdated
                    });

                    // Simple hash function
                    let hash = 0;
                    for (let i = 0; i < hashString.length; i++) {
                        const char = hashString.charCodeAt(i);
                        hash = ((hash << 5) - hash) + char;
                        hash = hash & hash; // Convert to 32-bit integer
                    }
                    return hash.toString();
                }

                showUpdateNotification() {
                    // Show a subtle notification that content was updated
                    const notification = document.createElement('div');
                    notification.style.cssText = `
                    position: fixed; top: 20px; right: 20px;
                    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                    color: white; padding: 15px 20px;
                    border-radius: 12px; font-size: 0.875rem; font-weight: 600;
                    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
                    z-index: 10000; opacity: 0; transform: translateY(-20px);
                    transition: all 0.3s ease;
                `;

                    notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.2rem;">üÜï</span>
                        <div>
                            <div style="font-weight: 700;">Content Updated!</div>
                            <div style="font-size: 0.75rem; opacity: 0.9;">New research articles loaded</div>
                        </div>
                    </div>
                `;

                    document.body.appendChild(notification);

                    // Animate in
                    setTimeout(() => {
                        notification.style.opacity = '1';
                        notification.style.transform = 'translateY(0)';
                    }, 100);

                    // Auto-remove after 4 seconds
                    setTimeout(() => {
                        notification.style.opacity = '0';
                        notification.style.transform = 'translateY(-20px)';
                        setTimeout(() => {
                            if (notification.parentNode) {
                                notification.parentNode.removeChild(notification);
                            }
                        }, 300);
                    }, 4000);
                }

                async loadContent() {
                    // Smart loading: Try CMS first, fallback to embedded content
                    console.log('ÔøΩ LInitializing content loading system...');

                    // First, try to load CMS content (works when served via server)
                    try {
                        const cmsContent = await this.loadCMSContentSafely();
                        if (cmsContent && cmsContent.articles && cmsContent.articles.length > 0) {
                            this.content = cmsContent;
                            console.log('‚úÖ CMS content loaded successfully (' + cmsContent.articles.length + ' articles)');
                            return;
                        }
                    } catch (error) {
                        console.log('‚ÑπÔ∏è CMS loading skipped (file:// protocol or no server)');
                    }

                    // Fallback: Use embedded content (always works)
                    console.log('üì¶ Loading embedded research content...');
                    this.content = this.getBuiltInContent();
                    console.log('‚úÖ Embedded content loaded successfully (3 articles available)');
                }

                async loadCMSContentSafely() {
                    // Only try to load CMS content if we're on a server (not file://)
                    if (window.location.protocol === 'file:') {
                        console.log('üìÅ File protocol detected - using embedded content');
                        return null;
                    }

                    try {
                        // Try to load manifest first
                        const manifestResponse = await fetch('./content/research/manifest.json');
                        if (!manifestResponse.ok) {
                            console.log('üìã No manifest found - using embedded content');
                            return null;
                        }

                        const manifest = await manifestResponse.json();
                        console.log('üìã Manifest loaded: ' + manifest.totalArticles + ' articles found');

                        // Load articles from manifest
                        const articles = [];
                        for (const filename of manifest.files) {
                            try {
                                const articleResponse = await fetch(`./content/research/${filename}`);
                                if (articleResponse.ok) {
                                    const content = await articleResponse.text();
                                    const article = this.parseMarkdownFile(content, filename);
                                    if (article && article.published) {
                                        const processedArticle = this.processArticleContent(article);
                                        articles.push(processedArticle);
                                    }
                                }
                            } catch (error) {
                                console.warn(`Could not load article: ${filename}`, error);
                            }
                        }

                        if (articles.length === 0) {
                            console.log('üì∞ No valid articles found in CMS');
                            return null;
                        }

                        // Sort articles (featured first, then by date)
                        articles.sort((a, b) => {
                            if (a.featured && !b.featured) return -1;
                            if (!a.featured && b.featured) return 1;
                            return new Date(b.date) - new Date(a.date);
                        });

                        // Create content structure
                        return {
                            en: {
                                hero: {
                                    title: "Independent Financial Research",
                                    subtitle: "Comprehensive analysis and insights for informed investment decisions in Southeast Asian markets",
                                    subscribeBtn: "Subscribe to Research",
                                    browseBtn: "Browse Reports"
                                },
                                featured: {
                                    title: "Featured Research",
                                    subtitle: "Latest insights and analysis from our research team",
                                    articles: articles.map(article => ({
                                        title: article.title,
                                        excerpt: article.excerpt,
                                        category: article.category,
                                        date: article.date,
                                        slug: article.slug,
                                        featured: article.featured,
                                        source: "Live CMS"
                                    }))
                                },
                                features: this.getBuiltInContent().en.features,
                                newsletter: this.getBuiltInContent().en.newsletter,
                                footer: this.getBuiltInContent().en.footer
                            },
                            id: {
                                hero: {
                                    title: "Riset Keuangan Independen",
                                    subtitle: "Analisis komprehensif dan wawasan untuk keputusan investasi yang tepat di pasar Asia Tenggara",
                                    subscribeBtn: "Berlangganan Riset",
                                    browseBtn: "Jelajahi Laporan"
                                },
                                featured: {
                                    title: "Riset Unggulan",
                                    subtitle: "Wawasan dan analisis terbaru dari tim riset kami",
                                    articles: articles.map(article => ({
                                        title: this.smartTranslate(article.title, article.title_id, 'en', 'id'),
                                        excerpt: this.smartTranslate(article.excerpt, article.excerpt_id, 'en', 'id'),
                                        category: this.translateCategory(article.category),
                                        date: article.date,
                                        slug: article.slug,
                                        featured: article.featured,
                                        source: "CMS Langsung"
                                    }))
                                },
                                features: this.getBuiltInContent().id.features,
                                newsletter: this.getBuiltInContent().id.newsletter,
                                footer: this.getBuiltInContent().id.footer
                            },
                            articles: articles
                        };

                    } catch (error) {
                        console.log('‚ö†Ô∏è CMS loading failed:', error.message);
                        return null;
                    }
                }



                parseMarkdownFile(content, filename) {
                    try {
                        // Extract frontmatter
                        const frontmatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
                        const match = content.match(frontmatterRegex);

                        if (!match) {
                            console.warn('No frontmatter found in:', filename);
                            return null;
                        }

                        const frontmatter = match[1];
                        const body = match[2];

                        // Parse YAML frontmatter (simple parsing)
                        const metadata = this.parseYAML(frontmatter);

                        // Extract slug from filename
                        const slug = filename.replace('.md', '');

                        return {
                            ...metadata,
                            body: body.trim(),
                            slug: slug,
                            filename: filename
                        };
                    } catch (error) {
                        console.error('Error parsing markdown file:', filename, error);
                        return null;
                    }
                }

                parseYAML(yamlString) {
                    const result = {};
                    const lines = yamlString.split('\n');
                    let currentKey = null;
                    let currentValue = '';
                    let inMultiline = false;

                    for (let line of lines) {
                        line = line.trim();

                        if (line.startsWith('|-') || line.startsWith('>-')) {
                            inMultiline = true;
                            continue;
                        }

                        if (inMultiline) {
                            if (line && !line.includes(':')) {
                                currentValue += (currentValue ? '\n' : '') + line;
                                continue;
                            } else {
                                if (currentKey && currentValue) {
                                    result[currentKey] = currentValue.trim();
                                }
                                inMultiline = false;
                                currentValue = '';
                            }
                        }

                        if (line.includes(':')) {
                            const colonIndex = line.indexOf(':');
                            const key = line.substring(0, colonIndex).trim();
                            let value = line.substring(colonIndex + 1).trim();

                            // Remove quotes
                            if ((value.startsWith('"') && value.endsWith('"')) ||
                                (value.startsWith("'") && value.endsWith("'"))) {
                                value = value.slice(1, -1);
                            }

                            // Handle boolean values
                            if (value === 'true') value = true;
                            if (value === 'false') value = false;

                            if (value || value === false) {
                                result[key] = value;
                            } else {
                                currentKey = key;
                                currentValue = '';
                            }
                        }
                    }

                    // Handle last multiline value
                    if (currentKey && currentValue) {
                        result[currentKey] = currentValue.trim();
                    }

                    return result;
                }

                translateCategory(category) {
                    const translations = {
                        'Banking': 'Perbankan',
                        'Bonds': 'Obligasi',
                        'Equity': 'Ekuitas',
                        'Economics': 'Ekonomi',
                        'Markets': 'Pasar'
                    };
                    return translations[category] || category;
                }

                // Enhanced Auto-Translation System
                autoTranslateText(text, fromLang, toLang) {
                    if (!text || fromLang === toLang) return text;

                    let translatedText = text;

                    // Convert to lowercase for matching
                    const lowerText = text.toLowerCase();

                    // Sort dictionary keys by length (longest first) for better matching
                    const sortedKeys = Object.keys(this.translationDictionary).sort((a, b) => b.length - a.length);

                    for (const key of sortedKeys) {
                        const translation = this.translationDictionary[key];
                        if (translation[fromLang] && translation[toLang]) {
                            // Case-insensitive replacement while preserving original case
                            const regex = new RegExp(this.escapeRegExp(translation[fromLang]), 'gi');
                            translatedText = translatedText.replace(regex, (match) => {
                                const replacement = translation[toLang];
                                // Preserve case
                                if (match === match.toUpperCase()) {
                                    return replacement.toUpperCase();
                                } else if (match === match.toLowerCase()) {
                                    return replacement.toLowerCase();
                                } else if (match[0] === match[0].toUpperCase()) {
                                    return replacement.charAt(0).toUpperCase() + replacement.slice(1).toLowerCase();
                                }
                                return replacement;
                            });
                        }
                    }

                    return translatedText;
                }

                escapeRegExp(string) {
                    return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                }

                // Smart translation that handles missing content
                smartTranslate(originalText, translatedText, fromLang, toLang) {
                    // If translated text exists and is not empty, use it
                    if (translatedText && translatedText.trim() && translatedText.trim() !== '...') {
                        return translatedText;
                    }

                    // If no translation exists, auto-translate the original
                    if (originalText && originalText.trim()) {
                        const autoTranslated = this.autoTranslateText(originalText, fromLang, toLang);
                        console.log(`üîÑ Auto-translated "${originalText}" ‚Üí "${autoTranslated}"`);
                        return autoTranslated;
                    }

                    return originalText || translatedText || '';
                }

                // Enhanced content processing with auto-translation
                processArticleContent(article) {
                    const processed = { ...article };

                    // Auto-translate missing Indonesian content
                    if (!processed.title_id || processed.title_id.trim() === '') {
                        processed.title_id = this.autoTranslateText(processed.title, 'en', 'id');
                        console.log(`üîÑ Auto-translated title: "${processed.title}" ‚Üí "${processed.title_id}"`);
                    }

                    if (!processed.excerpt_id || processed.excerpt_id.trim() === '') {
                        processed.excerpt_id = this.autoTranslateText(processed.excerpt, 'en', 'id');
                        console.log(`üîÑ Auto-translated excerpt: "${processed.excerpt}" ‚Üí "${processed.excerpt_id}"`);
                    }

                    // Auto-translate missing English content (if Indonesian is primary)
                    if (!processed.title || processed.title.trim() === '') {
                        processed.title = this.autoTranslateText(processed.title_id, 'id', 'en');
                        console.log(`üîÑ Auto-translated title: "${processed.title_id}" ‚Üí "${processed.title}"`);
                    }

                    if (!processed.excerpt || processed.excerpt.trim() === '') {
                        processed.excerpt = this.autoTranslateText(processed.excerpt_id, 'id', 'en');
                        console.log(`üîÑ Auto-translated excerpt: "${processed.excerpt_id}" ‚Üí "${processed.excerpt}"`);
                    }

                    return processed;
                }

                getBuiltInContent() {
                    return {
                        en: {
                            hero: {
                                title: "Independent Financial Research",
                                subtitle: "Comprehensive analysis and insights for informed investment decisions in Southeast Asian markets",
                                subscribeBtn: "Subscribe to Research",
                                browseBtn: "Browse Reports"
                            },
                            featured: {
                                title: "Featured Research",
                                subtitle: "Latest insights and analysis from our research team",
                                articles: [
                                    {
                                        title: "European Bank All Time High Post 2008 Crisis",
                                        excerpt: "European banking stocks have reached unprecedented levels, surpassing pre-2008 crisis highs. This comprehensive analysis examines the factors driving this remarkable recovery and what it means for investors.",
                                        category: "Banking",
                                        date: "2025-08-03",
                                        slug: "european-bank-all-time-high-post-2008-crisis",
                                        featured: true
                                    },
                                    {
                                        title: "Southeast Asian Equity Funds Performance Analysis",
                                        excerpt: "Comprehensive analysis of top-performing equity funds in Southeast Asia, examining returns, risk metrics, and investment strategies that have delivered exceptional results for investors.",
                                        category: "Equity",
                                        date: "2025-08-02",
                                        slug: "southeast-asian-equity-funds-performance",
                                        featured: true
                                    },
                                    {
                                        title: "Fixed Income Strategy for Retirement Planning",
                                        excerpt: "Strategic approach to building a robust fixed income portfolio for retirement planning in the current interest rate environment, focusing on duration management and yield optimization.",
                                        category: "Bonds",
                                        date: "2025-08-01",
                                        slug: "fixed-income-strategy-retirement-planning",
                                        featured: false
                                    },
                                    {
                                        title: "Indonesian Banking Sector Outlook H2 2024",
                                        excerpt: "Comprehensive analysis of Indonesia's banking sector performance and growth prospects for the second half of 2024.",
                                        category: "Banking",
                                        date: "2024-07-28",
                                        slug: "indonesian-banking-outlook-h2-2024"
                                    },
                                    {
                                        title: "Fixed Income Strategy for Retirement",
                                        excerpt: "Strategic approach to building a robust fixed income portfolio for retirement planning in the current interest rate environment.",
                                        category: "Retirement",
                                        date: "2024-06-15",
                                        slug: "fixed-income-retirement-strategy"
                                    },
                                    {
                                        title: "Top Performing Equity Funds",
                                        excerpt: "Analysis of the best performing equity funds in Southeast Asia with detailed performance metrics and investment strategies.",
                                        category: "Equity",
                                        date: "2024-05-20",
                                        slug: "top-performing-equity-funds"
                                    },
                                    {
                                        title: "Southeast Asian Markets Weekly",
                                        excerpt: "Weekly market overview covering key developments, policy changes, and investment opportunities across the region.",
                                        category: "Market Update",
                                        date: "2024-08-01",
                                        slug: "southeast-asian-markets-weekly"
                                    }
                                ]
                            },
                            features: {
                                title: "Why Choose Financial Brunch",
                                subtitle: "Independent research backed by deep market expertise",
                                items: [
                                    {
                                        title: "Independent Analysis",
                                        description: "Unbiased research free from conflicts of interest, providing objective insights for your investment decisions.",
                                        icon: "star"
                                    },
                                    {
                                        title: "Deep Market Knowledge",
                                        description: "Extensive expertise in Southeast Asian markets with focus on emerging opportunities and risk assessment.",
                                        icon: "cube"
                                    },
                                    {
                                        title: "Actionable Insights",
                                        description: "Practical recommendations and strategic guidance to help you make informed investment decisions with confidence.",
                                        icon: "zap"
                                    }
                                ]
                            },
                            newsletter: {
                                title: "Stay Informed",
                                description: "Get our latest research reports and market insights delivered directly to your inbox.",
                                submitBtn: "Subscribe",
                                disclaimer: "By subscribing, you agree to receive our research updates. Unsubscribe at any time."
                            },
                            footer: {
                                title: "Financial Brunch",
                                description: "Independent financial research for informed investment decisions.",
                                copyright: "¬© 2024 Financial Brunch. All rights reserved.",
                                disclaimer: "Investment research and analysis for informational purposes only. Not investment advice.",
                                research: {
                                    title: "Research",
                                    links: [
                                        { text: "Banking Sector", url: "#" },
                                        { text: "Equity Analysis", url: "#" },
                                        { text: "Fixed Income", url: "#" },
                                        { text: "Market Updates", url: "#" }
                                    ]
                                },
                                company: {
                                    title: "Company",
                                    links: [
                                        { text: "About Us", url: "#" },
                                        { text: "Our Team", url: "#" },
                                        { text: "Methodology", url: "#" },
                                        { text: "Contact", url: "#" }
                                    ]
                                },
                                legal: {
                                    title: "Legal",
                                    links: [
                                        { text: "Privacy Policy", url: "#" },
                                        { text: "Terms of Service", url: "#" },
                                        { text: "Disclaimers", url: "#" },
                                        { text: "Compliance", url: "#" }
                                    ]
                                }
                            }
                        },
                        id: {
                            hero: {
                                title: "Riset Keuangan Independen",
                                subtitle: "Analisis komprehensif dan wawasan untuk keputusan investasi yang tepat di pasar Asia Tenggara",
                                subscribeBtn: "Berlangganan Riset",
                                browseBtn: "Jelajahi Laporan"
                            },
                            featured: {
                                title: "Riset Unggulan",
                                subtitle: "Wawasan dan analisis terbaru dari tim riset kami",
                                articles: [
                                    {
                                        title: "Bank Eropa Mencapai Tertinggi Sepanjang Masa Pasca Krisis 2008",
                                        excerpt: "Saham perbankan Eropa telah mencapai level yang belum pernah terjadi sebelumnya, melampaui tertinggi sebelum krisis 2008. Analisis komprehensif ini mengkaji faktor-faktor yang mendorong pemulihan luar biasa ini dan artinya bagi investor.",
                                        category: "Perbankan",
                                        date: "2025-08-03",
                                        slug: "bank-eropa-tertinggi-sepanjang-masa-pasca-krisis-2008",
                                        featured: true,
                                        source: "Konten CMS"
                                    },
                                    {
                                        title: "Analisis Kinerja Reksa Dana Saham Asia Tenggara",
                                        excerpt: "Analisis komprehensif reksa dana saham berkinerja terbaik di Asia Tenggara, mengkaji return, metrik risiko, dan strategi investasi yang telah memberikan hasil luar biasa bagi investor.",
                                        category: "Ekuitas",
                                        date: "2025-08-02",
                                        slug: "analisis-kinerja-reksa-dana-saham-asia-tenggara",
                                        featured: true,
                                        source: "Konten CMS"
                                    },
                                    {
                                        title: "Strategi Pendapatan Tetap untuk Perencanaan Pensiun",
                                        excerpt: "Pendekatan strategis untuk membangun portofolio pendapatan tetap yang kuat untuk perencanaan pensiun di lingkungan suku bunga saat ini, dengan fokus pada manajemen durasi dan optimalisasi yield.",
                                        category: "Obligasi",
                                        date: "2025-08-01",
                                        slug: "strategi-pendapatan-tetap-perencanaan-pensiun",
                                        featured: false,
                                        source: "Konten CMS"
                                    },
                                    {
                                        title: "Prospek Sektor Perbankan Indonesia H2 2024",
                                        excerpt: "Analisis komprehensif kinerja sektor perbankan Indonesia dan prospek pertumbuhan untuk semester kedua 2024.",
                                        category: "Perbankan",
                                        date: "2024-07-28",
                                        slug: "prospek-perbankan-indonesia-h2-2024",
                                        source: "Konten Bawaan"
                                    }
                                ]
                            },
                            features: {
                                title: "Mengapa Memilih Financial Brunch",
                                subtitle: "Riset independen dengan dukungan keahlian pasar yang mendalam",
                                items: [
                                    {
                                        title: "Analisis Independen",
                                        description: "Riset yang tidak bias bebas dari konflik kepentingan, memberikan wawasan objektif untuk keputusan investasi Anda.",
                                        icon: "star"
                                    },
                                    {
                                        title: "Pengetahuan Pasar Mendalam",
                                        description: "Keahlian luas di pasar Asia Tenggara dengan fokus pada peluang yang muncul dan penilaian risiko.",
                                        icon: "cube"
                                    },
                                    {
                                        title: "Wawasan yang Dapat Ditindaklanjuti",
                                        description: "Rekomendasi praktis dan panduan strategis untuk membantu Anda membuat keputusan investasi yang tepat dengan percaya diri.",
                                        icon: "zap"
                                    }
                                ]
                            },
                            newsletter: {
                                title: "Tetap Terinformasi",
                                description: "Dapatkan laporan riset terbaru dan wawasan pasar langsung ke inbox Anda.",
                                submitBtn: "Berlangganan",
                                disclaimer: "Dengan berlangganan, Anda setuju untuk menerima pembaruan riset kami. Berhenti berlangganan kapan saja."
                            },
                            footer: {
                                title: "Financial Brunch",
                                description: "Riset keuangan independen untuk keputusan investasi yang tepat.",
                                copyright: "¬© 2024 Financial Brunch. Semua hak dilindungi.",
                                disclaimer: "Riset dan analisis investasi hanya untuk tujuan informasi. Bukan saran investasi.",
                                research: {
                                    title: "Riset",
                                    links: [
                                        { text: "Sektor Perbankan", url: "#" },
                                        { text: "Analisis Ekuitas", url: "#" },
                                        { text: "Pendapatan Tetap", url: "#" },
                                        { text: "Update Pasar", url: "#" }
                                    ]
                                },
                                company: {
                                    title: "Perusahaan",
                                    links: [
                                        { text: "Tentang Kami", url: "#" },
                                        { text: "Tim Kami", url: "#" },
                                        { text: "Metodologi", url: "#" },
                                        { text: "Kontak", url: "#" }
                                    ]
                                },
                                legal: {
                                    title: "Legal",
                                    links: [
                                        { text: "Kebijakan Privasi", url: "#" },
                                        { text: "Ketentuan Layanan", url: "#" },
                                        { text: "Penafian", url: "#" },
                                        { text: "Kepatuhan", url: "#" }
                                    ]
                                }
                            }
                        }
                    };
                }

                setupLanguageToggle() {
                    const langButtons = document.querySelectorAll('.lang-btn');
                    langButtons.forEach(btn => {
                        btn.addEventListener('click', () => {
                            const lang = btn.getAttribute('data-lang');
                            if (lang !== this.currentLanguage) {
                                this.currentLanguage = lang;

                                // Update active button
                                langButtons.forEach(b => b.classList.remove('active'));
                                btn.classList.add('active');

                                // Re-render content with new language
                                this.renderContent();
                            }
                        });
                    });
                }

                renderContent() {
                    const langContent = this.content[this.currentLanguage];
                    if (!langContent) return;

                    // Update text content with data-cms attributes
                    document.querySelectorAll('[data-cms]').forEach(element => {
                        const path = element.getAttribute('data-cms').split('.');
                        let value = langContent;

                        for (const key of path) {
                            value = value?.[key];
                            if (!value) break;
                        }

                        if (value) {
                            element.textContent = value;
                        }
                    });

                    // Render carousel articles
                    this.renderCarousel(langContent.featured?.articles || []);

                    // Render features
                    this.renderFeatures(langContent.features?.items || []);

                    // Render footer links
                    this.renderFooterLinks(langContent.footer);
                }

                renderCarousel(articles) {
                    const carouselTrack = document.getElementById('carousel-track');
                    const indicators = document.getElementById('carousel-indicators');

                    if (!carouselTrack || !indicators) return;

                    // Clear existing content
                    carouselTrack.innerHTML = '';
                    indicators.innerHTML = '';

                    if (articles.length === 0) {
                        // Show loading state
                        carouselTrack.innerHTML = `
                        <div class="carousel-slide active">
                            <div class="slide-background">
                                <div class="slide-image"></div>
                                <div class="slide-overlay"></div>
                            </div>
                            <div class="slide-content">
                                <div class="slide-meta">
                                    <span class="slide-category">No Content</span>
                                    <span class="slide-date">...</span>
                                </div>
                                <h3 class="slide-title">No Articles Available</h3>
                                <p class="slide-excerpt">No research articles are currently available. Please check back later.</p>
                                <a href="#" class="slide-cta">Coming Soon</a>
                            </div>
                        </div>
                    `;
                        return;
                    }

                    // Render articles
                    articles.forEach((article, index) => {
                        const slide = this.createSlide(article, index);
                        carouselTrack.appendChild(slide);

                        const indicator = this.createIndicator(index);
                        indicators.appendChild(indicator);
                    });

                    // Set first slide as active and initialize carousel
                    if (articles.length > 0) {
                        this.currentSlide = 0;
                        this.totalSlides = articles.length;
                        carouselTrack.firstElementChild.classList.add('active');
                        indicators.firstElementChild.classList.add('active');

                        // Initialize carousel navigation after rendering
                        setTimeout(() => {
                            this.setupCarouselNavigation();
                            this.startAutoPlay();
                        }, 100);
                    }
                }

                createSlide(article, index) {
                    const slide = document.createElement('div');
                    slide.className = 'carousel-slide';
                    if (index === 0) slide.classList.add('active');

                    const date = new Date(article.date).toLocaleDateString(
                        this.currentLanguage === 'id' ? 'id-ID' : 'en-US',
                        { year: 'numeric', month: 'long', day: 'numeric' }
                    );

                    slide.innerHTML = `
                    <div class="slide-background">
                        <div class="slide-image"></div>
                        <div class="slide-overlay"></div>
                    </div>
                    <div class="slide-content">
                        <div class="slide-meta">
                            <span class="slide-category">${article.category}</span>
                            <span class="slide-date">${date}</span>
                        </div>
                        <h3 class="slide-title">${article.title}</h3>
                        <p class="slide-excerpt">${article.excerpt}</p>
                        <a href="#" onclick="showArticlePreview('${article.title.replace(/'/g, "\\'")}', '${article.excerpt.replace(/'/g, "\\'")}', '${article.category}', '${article.source || 'Unknown'}')" class="slide-cta">
                            ${this.currentLanguage === 'id' ? 'Baca Laporan Lengkap' : 'Read Full Report'}
                        </a>
                    </div>
                `;

                    return slide;
                }

                createIndicator(index) {
                    const indicator = document.createElement('button');
                    indicator.className = 'indicator';
                    indicator.setAttribute('data-slide', index);
                    indicator.setAttribute('aria-label', `Go to slide ${index + 1}`);
                    if (index === 0) indicator.classList.add('active');

                    indicator.addEventListener('click', () => {
                        this.goToSlide(index);
                    });

                    return indicator;
                }

                renderFeatures(features) {
                    const featuresGrid = document.getElementById('features-grid');
                    if (!featuresGrid) return;

                    featuresGrid.innerHTML = '';

                    features.forEach(feature => {
                        const featureCard = document.createElement('div');
                        featureCard.className = 'feature-card';

                        featureCard.innerHTML = `
                        <div class="feature-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                ${this.getIconSVG(feature.icon)}
                            </svg>
                        </div>
                        <h3 class="feature-title">${feature.title}</h3>
                        <p class="feature-description">${feature.description}</p>
                    `;

                        featuresGrid.appendChild(featureCard);
                    });
                }

                getIconSVG(icon) {
                    const icons = {
                        star: '<path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',
                        cube: '<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><polyline points="3.27,6.96 12,12.01 20.73,6.96" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><line x1="12" y1="22.08" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',
                        zap: '<path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>'
                    };

                    return icons[icon] || icons.star;
                }

                renderFooterLinks(footer) {
                    const sections = ['research', 'company', 'legal'];

                    sections.forEach(section => {
                        const container = document.getElementById(`footer-${section}-links`);
                        if (!container || !footer[section]) return;

                        container.innerHTML = '';

                        footer[section].links.forEach(link => {
                            const li = document.createElement('li');
                            li.innerHTML = `<a href="${link.url}" class="footer-link">${link.text}</a>`;
                            container.appendChild(li);
                        });
                    });
                }

                initializeCarousel() {
                    // Initialize carousel functionality directly in CMS
                    this.currentSlide = 0;
                    this.totalSlides = 0;
                    this.isAutoPlaying = true;
                    this.autoPlayInterval = null;
                }

                setupCarouselNavigation() {
                    const slides = document.querySelectorAll('.carousel-slide');
                    const prevBtn = document.getElementById('carousel-prev');
                    const nextBtn = document.getElementById('carousel-next');
                    const indicators = document.querySelectorAll('.indicator');

                    this.totalSlides = slides.length;

                    if (this.totalSlides <= 1) return;

                    // Previous button
                    if (prevBtn) {
                        prevBtn.addEventListener('click', () => {
                            this.prevSlide();
                        });
                    }

                    // Next button
                    if (nextBtn) {
                        nextBtn.addEventListener('click', () => {
                            this.nextSlide();
                        });
                    }

                    // Indicators
                    indicators.forEach((indicator, index) => {
                        indicator.addEventListener('click', () => {
                            this.goToSlide(index);
                        });
                    });

                    // Touch/swipe support
                    const carousel = document.querySelector('.carousel-container');
                    if (carousel) {
                        let startX = 0;
                        let endX = 0;

                        carousel.addEventListener('touchstart', (e) => {
                            startX = e.touches[0].clientX;
                            this.stopAutoPlay();
                        });

                        carousel.addEventListener('touchend', (e) => {
                            endX = e.changedTouches[0].clientX;
                            const diff = startX - endX;

                            if (Math.abs(diff) > 50) {
                                if (diff > 0) {
                                    this.nextSlide();
                                } else {
                                    this.prevSlide();
                                }
                            }
                            this.startAutoPlay();
                        });

                        // Pause on hover
                        carousel.addEventListener('mouseenter', () => {
                            this.stopAutoPlay();
                        });

                        carousel.addEventListener('mouseleave', () => {
                            this.startAutoPlay();
                        });
                    }
                }

                goToSlide(index) {
                    if (index < 0 || index >= this.totalSlides || index === this.currentSlide) return;

                    this.currentSlide = index;
                    this.updateCarouselDisplay();
                    this.resetAutoPlay();
                }

                nextSlide() {
                    this.currentSlide = (this.currentSlide + 1) % this.totalSlides;
                    this.updateCarouselDisplay();
                    this.resetAutoPlay();
                }

                prevSlide() {
                    this.currentSlide = (this.currentSlide - 1 + this.totalSlides) % this.totalSlides;
                    this.updateCarouselDisplay();
                    this.resetAutoPlay();
                }

                updateCarouselDisplay() {
                    const slides = document.querySelectorAll('.carousel-slide');
                    const indicators = document.querySelectorAll('.indicator');
                    const track = document.getElementById('carousel-track');

                    // Update slides
                    slides.forEach((slide, index) => {
                        slide.classList.toggle('active', index === this.currentSlide);
                    });

                    // Update indicators
                    indicators.forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === this.currentSlide);
                    });

                    // Update track position
                    if (track) {
                        const translateX = -this.currentSlide * 100;
                        track.style.transform = `translateX(${translateX}%)`;
                    }
                }

                startAutoPlay() {
                    if (!this.isAutoPlaying || this.totalSlides <= 1) return;

                    this.stopAutoPlay();
                    this.autoPlayInterval = setInterval(() => {
                        this.nextSlide();
                    }, 5000);
                }

                stopAutoPlay() {
                    if (this.autoPlayInterval) {
                        clearInterval(this.autoPlayInterval);
                        this.autoPlayInterval = null;
                    }
                }

                resetAutoPlay() {
                    this.stopAutoPlay();
                    this.startAutoPlay();
                }
            }

            // Article preview function
            function showArticlePreview(title, excerpt, category, source) {
                const modal = document.createElement('div');
                modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.8); z-index: 10000;
                display: flex; align-items: center; justify-content: center;
                padding: 20px;
            `;

                modal.innerHTML = `
                <div style="
                    background: white; border-radius: 12px; padding: 30px;
                    max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                ">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 style="margin: 0; color: #1e40af; font-size: 1.5rem;">${title}</h2>
                        <button onclick="this.closest('.modal').remove()" style="
                            background: none; border: none; font-size: 24px; cursor: pointer;
                            color: #6b7280; padding: 5px;
                        ">√ó</button>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <span style="background: #3b82f6; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.875rem; margin-right: 10px;">
                            ${category}
                        </span>
                        <span style="background: #10b981; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.875rem;">
                            ‚úÖ ${source}
                        </span>
                    </div>

                    <p style="line-height: 1.6; color: #374151; margin-bottom: 20px;">
                        ${excerpt}
                    </p>

                    <div style="background: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <h4 style="margin: 0 0 10px 0; color: #1f2937;">üéØ CMS Integration Status</h4>
                        <p style="margin: 0; color: #6b7280; font-size: 0.875rem;">
                            This article is loaded from your Netlify CMS and demonstrates that the research content system is working perfectly.
                            The content includes proper bilingual support and auto-translation features.
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <button onclick="this.closest('.modal').remove()" style="
                            background: #3b82f6; color: white; border: none; padding: 12px 24px;
                            border-radius: 8px; cursor: pointer; font-weight: 600;
                        ">Close Preview</button>
                    </div>
                </div>
            `;

                modal.className = 'modal';
                document.body.appendChild(modal);

                // Close on background click
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) modal.remove();
                });
            }

            // Initialize CMS when page loads
            document.addEventListener('DOMContentLoaded', () => {
                window.financialBrunchCMS = new FinancialBrunchCMS();

            });
        </script>
    </body>

</html>
